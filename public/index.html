<!doctype html>
<html>

<head>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" type="text/css" href="/frontend (bootstrap)/css/bootstrap.min.css">
    <script type="text/javascript" href="/frontend (bootstrap)/js/bootstrap.min.js"></script>

    <script>
        $(".buttons-only").inputSpinner({ buttonsOnly: true })
    </script>

</head>


<body>
    <header>

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="index.html"><img id="navIcon" src="./sources/navIcon.png"></a>
                <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                    <div class="navbar-nav">
                        <a class="nav-link active" aria-current="page" href="rates.html">Unsere Tarife</a>
                        <a class="nav-link" href="login.html">Login</a>
                    </div>
                </div>
            </div>
        </nav>

    </header>

    <section class="mainDiv">

        <div class="logoDiv">
            <img id="logo" src="./sources/logo.png">
        </div>

        <div class="textDiv">

            <p>
                Mit dem Tarifrechner der Sonnenstrahl Energie AG lassen sich Stromtarife berechnen, die auf Ihre
                BedÃ¼rfnisse zugeschnitten sind. Hierzu entweder den Verbrauch oder die Personen im Haushalt angeben.
            </p>
            <br>

            <form action="rates.html" onsubmit="store(event)">



                <div class="row">

                    <div class="col">
                        <input type="text" class="form-control" placeholder="Postleitzahl" id="zip" required>
                    </div>
                    <div class="col">
                        <input type="text" class="form-control" placeholder="Verbrauch in kWh" id="cons">
                    </div>

                    <div class="col">
                        <input type="number" value="1" min="1" max="6" class="form-control" placeholder="personen"
                            id="pers">
                    </div>

                </div>
                <br>
                <button type="submit" class="btn btn-primary">Tarif berechnen</button>

                <script>
                    // Gets values from form
                    const store = e => {
                        var zip = document.getElementById("zip").value
                        var cons = document.getElementById("cons").value
                        var pers = document.getElementById("pers").value
                        // Sets a new value for consumption if only a number of persons is given
                        if (!cons) {
                            sessionStorage.setItem("isConsNull", "0")
                            switch (pers) {
                                case '1':
                                    cons = 1500
                                    break
                                case '2':
                                    cons = 2500
                                    break
                                case '3':
                                    cons = 3500
                                    break
                                case '4':
                                    cons = 4250
                                    break
                                case '5':
                                    cons = 5000
                                    break
                                case '6':
                                    cons = 5500
                                    break
                                default:
                                    cons = 2000
                                    break;
                            }
                        }
                        else {
                            sessionStorage.setItem("isConsNull", 1)
                        }
                        // Stores the values in session storage
                        sessionStorage.setItem("zipCode", zip)
                        sessionStorage.setItem("consumption", cons)
                        sessionStorage.setItem("persons", pers)

                    }
                </script>

            </form>

        </div>

    </section>

</body>

<footer>
    <p>Made with ðŸ’š @home</p>
</footer>

</html>